<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Order Confirmed — AO Web Solutions</title>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400;1,600&family=DM+Sans:wght@300;400;500&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet"/>
<link rel="stylesheet" href="../css/main.css"/>
<link rel="stylesheet" href="../css/checkout.css"/>
</head>
<body>

<!-- NAV -->
<nav id="nav" class="scrolled">
  <div class="container">
    <div class="nav-inner">
      <a href="../index.html" class="brand">
        <div class="brand-mark">AO</div>
        AO Web Solutions
      </a>
      <div class="nav-cta">
        <a href="../index.html" class="btn primary">Back to Home</a>
      </div>
    </div>
  </div>
</nav>

<!-- CONFIRMATION -->
<div class="confirm-page">
  <div class="confirm-inner" id="confirmInner">
    <div class="confirm-icon">
      <svg width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><polyline points="20 6 9 17 4 12"/></svg>
    </div>
    <div class="order-id" id="orderId">Loading…</div>
    <h1>Order Confirmed.</h1>
    <p>Thank you for choosing AO Web Solutions. We've received your order and will reach out within 24 hours to schedule your discovery kickoff call.</p>

    <div class="confirm-details" id="orderDetails">
      <!-- Rendered by JS -->
    </div>

    <div class="next-steps">
      <h3>What happens next</h3>
      <div class="next-step-item">
        <span class="next-step-num">01</span>
        <span>You'll receive a confirmation email with your order summary and receipt within minutes.</span>
      </div>
      <div class="next-step-item">
        <span class="next-step-num">02</span>
        <span>Within 24 hours we'll send a calendar link to schedule your free 30-minute discovery call.</span>
      </div>
      <div class="next-step-item">
        <span class="next-step-num">03</span>
        <span>After your call, Figma mockups are delivered within 48 hours for your review and feedback.</span>
      </div>
      <div class="next-step-item">
        <span class="next-step-num">04</span>
        <span>Once approved, we build and deliver your site by the deadline in your package. Then we launch.</span>
      </div>
    </div>

    <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap;">
      <a href="../index.html" class="btn primary big">Back to Home</a>
      <a href="../index.html#contact" class="btn big">Contact Us</a>
    </div>
  </div>
</div>

<script src="../js/main.js"></script>
<script>
// Try URL param first, then localStorage
let order = null;
const _cp = new URLSearchParams(window.location.search);
const _co = _cp.get('order');
if (_co) { try { order = JSON.parse(decodeURIComponent(_co)); } catch(e) {} }
if (!order) { try { order = JSON.parse(localStorage.getItem('ao_last_order') || 'null'); } catch(e) {} }
const ADDONS = [
  { id: 'logo', name: 'Logo Design', price: 299 },
  { id: 'seo', name: 'SEO Launch Pack', price: 199 },
  { id: 'copy', name: 'Copywriting', price: 349 },
  { id: 'maint', name: '3-Month Maintenance', price: 249 },
  { id: 'speed', name: 'Speed Optimization', price: 149 },
];

function fmt(n) { return '$' + n.toLocaleString(); }

if (order) {
  document.getElementById('orderId').textContent = 'Order ' + order.id;

  const addonLines = (order.addons || []).map(id => {
    const a = ADDONS.find(x => x.id === id);
    return a ? `<div class="confirm-detail-row"><span class="lbl">+ ${a.name}</span><span class="val">${fmt(a.price)}</span></div>` : '';
  }).join('');

  document.getElementById('orderDetails').innerHTML = `
    <div class="confirm-detail-row"><span class="lbl">Package</span><span class="val">${order.plan?.name || '—'}</span></div>
    ${addonLines}
    <div class="confirm-detail-row"><span class="lbl">Total Paid</span><span class="val">${fmt(order.total || 0)}</span></div>
    <div class="confirm-detail-row"><span class="lbl">Confirmation sent to</span><span class="val">${order.email || '—'}</span></div>
    <div class="confirm-detail-row"><span class="lbl">Order Date</span><span class="val">${new Date(order.date).toLocaleDateString('en-US',{month:'long',day:'numeric',year:'numeric'})}</span></div>
  `;
} else {
  document.getElementById('orderId').textContent = 'Order Received';
  document.getElementById('orderDetails').innerHTML = `
    <div class="confirm-detail-row"><span class="lbl">Status</span><span class="val">Confirmed</span></div>
    <div class="confirm-detail-row"><span class="lbl">Next step</span><span class="val">Check your email</span></div>
  `;
}
</script>
</body>
</html>
